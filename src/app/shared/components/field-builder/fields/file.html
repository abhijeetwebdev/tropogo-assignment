<div [formGroup]="form">
    <div *ngIf="field.preview else notPreview">
        <label [class.color-danger]="showError && field.files.length === 0 && field.required">{{ field.label }}</label>
        <div class="institute-logo-placeholder">
            <img class="preview" *ngIf="base64" [src]="base64"/>
        </div>
        <div class="col-sm-12 institute-logo pl-0">
            <a (click)="file.click()">{{ base64 ? 'Change' : 'Choose'  }} Institute Logo</a>
        </div>
        <input #file type="file" class="hide-file" (change)="onFileChange($event)">
    </div>

    <ng-template #notPreview>
        <div class="form-group row has-bottom-underline">
            <label [class.color-danger]="showError && field.files.length === 0 && field.required" class="col-sm-6">{{ field.label }} <small>{{ field.required ? '' : '(Optional)' }}</small></label>
            <div class="col-sm-6 upload">
              <svg class="bi bi-cloud-upload" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M4.887 6.2l-.964-.165A2.5 2.5 0 1 0 3.5 11H6v1H3.5a3.5 3.5 0 1 1 .59-6.95 5.002 5.002 0 1 1 9.804 1.98A2.501 2.501 0 0 1 13.5 12H10v-1h3.5a1.5 1.5 0 0 0 .237-2.981L12.7 7.854l.216-1.028a4 4 0 1 0-7.843-1.587l-.185.96z"/>
                <path fill-rule="evenodd" d="M5 8.854a.5.5 0 0 0 .707 0L8 6.56l2.293 2.293A.5.5 0 1 0 11 8.146L8.354 5.5a.5.5 0 0 0-.708 0L5 8.146a.5.5 0 0 0 0 .708z"/>
                <path fill-rule="evenodd" d="M8 6a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0v-8A.5.5 0 0 1 8 6z"/>
              </svg>
              Upload
              <input #file type="file" class="hide-file" multiple="" (change)="onFileChange($event)">
            </div>
        </div>
        <div *ngFor="let file of field.files; let i = index" class="row has-bottom-underline file-uploaded">
            <div class="col-sm-6">...{{ file.name | slice:-50 }} </div>
            <div class="col-sm-6 text-right">
                <img (click)="onFileRemove(index)" title="Remove" class="del-icon" src="assets/ic_delete.png">
            </div>
        </div>
    </ng-template>
</div>
